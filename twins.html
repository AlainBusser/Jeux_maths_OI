<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="twins.css">
    <title>⚫︎⚪︎twins⚪︎⚫︎</title>
</head>    


<body>
<h1>Twins</h1>

<p>Les pièces sont bicolores (comme des jetons de <a href="https://fr.wikipedia.org/wiki/Othello_(jeu)">reversi</a>), le côté pile est blanc et le côté 
    face est noir. Chacun son tour tourne deux pièces mais la pièce 
    le plus à droite doit obligatoirement passer de pile à face 
    (c'est-à-dire qu'elle doit être blanche avant de la tourner). 
    Le premier qui arrive à ce qu'il y ait moins de 2 jetons sur 
    pile a gagné. 
</p>

<table>
    <tr>
        <td id="m0" onclick="go(0)">⚪︎</td>
        <td id="m1" onclick="go(1)">⚪︎</td>
        <td id="m2" onclick="go(2)">⚪︎</td>
        <td id="m3" onclick="go(3)">⚪︎</td>
        <td id="m4" onclick="go(4)">⚪︎</td>
        <td id="m5" onclick="go(5)">⚪︎</td>
        <td id="m6" onclick="go(6)">⚪︎</td>
        <td id="m7" onclick="go(7)">⚪︎</td>
    </tr>
</table>

<h4>C'est au joueur <strong id="nj">A</strong> de tourner deux pièces.</h4>

<script>
let sel1 = -1
let sel2 = -1
//const autre = {"⚪︎":"⚫︎", "⚫︎":"⚪︎"}
//const other = {"A":"B", "B":"A"}
const di = (nom) => document.getElementById(nom)
const go = function(i) {
    if (sel1 === -1) {
        sel1 = i
        di("m"+i).style.color = "red"
        di("m"+i).style.textShadow = "0 0 5px red"
    } else if (sel2 === -1) {
        sel2 = i
        di("m"+i).style.color = "red"
        di("m"+i).style.textShadow = "0 0 5px red"
        if (sel1 > sel2) [sel1, sel2] = [sel2, sel1]
        if (di("m"+sel2).innerHTML === "⚪︎") {
            di("m"+sel2).innerHTML = "⚫︎"
            di("m"+sel1).innerHTML = (di("m"+sel1).innerHTML == "⚪︎") ? "⚫︎" : "⚪︎"
        }
        sel2 = -1
        sel1 = -1
        for (let i=0; i<8; i++) {
            di("m"+i).style.color = "black"
            di("m"+i).style.textShadow = "0 0 0px black"
        }
        di("nj").innerHTML = (di("nj").innerHTML == "A") ? "B" : "A"
    }
}

</script>





</body></html>